<ImageAugmentationLayout>:
    md_bg_color: 0.23, 0.2, 0.27
    radius: [25,]
    orientation: 'vertical'
    spacing: 5 
    padding: [20, 10, 20, 10]  

    crop_width: crop_width
    crop_height: crop_height
    rotate_angle: rotate_angle
    contrast_factor: contrast_factor
    brightness_factor: brightness_factor
    flip_direction: flip_direction
    saturation_factor: saturation_factor
    noise_mean: noise_mean
    noise_std: noise_std
    translate_x: translate_x
    translate_y: translate_y
    shear_factor: shear_factor
    stretch_x: stretch_x
    stretch_y: stretch_y
    random_crop_width: random_crop_width
    random_crop_height: random_crop_height
    text_overlay: text_overlay
    text_position_x: text_position_x
    text_position_y: text_position_y

    MDLabel:
        size_hint: 1.0, None
        height: self.texture_size[1]
        text: "Augmentations:"
        halign: 'left'
        color: 1,1,1,1
        font_style: 'Headline'
        bold: True

    MDScrollView:
        do_scroll_y: True
        bar_width: 0
        size_hint: 0.9, 0.9
        pos_hint: {'center_x': 0.5,'center_y': 0.5}

        MDBoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            spacing: "30dp"  
            padding: "20dp"
              
            MDBoxLayout:
                orientation: 'vertical'
                size_hint: 1, None
                height: self.minimum_height
                padding: "15dp"
                spacing: 15
                md_bg_color: 1, 1, 1, 1
                radius: [25,]
           
                MDLabel:
                    text: "Crop"
                    bold: True
                    color: 0,0,0
                    size_hint_y: None
                    height: self.texture_size[1]

                MDBoxLayout:
                    orientation: 'horizontal'
                    size_hint: 1.0, None
                    height: "48dp"
                    spacing: "20dp" 
                    MDTextField:
                        id: crop_width
                        mode: 'outlined'
                        input_filter: "float"
                        MDTextFieldHintText:
                            text: 'Width'
                    MDTextField:
                        id: crop_height
                        mode: 'outlined'
                        input_filter: "float"
                        MDTextFieldHintText:
                            text: 'Height'

            MDBoxLayout:
                orientation: 'vertical'
                size_hint: 1, None
                height: self.minimum_height
                padding: "15dp"
                spacing: 10
                md_bg_color: 1, 1, 1, 1
                radius: [25,]

                MDLabel:
                    text: "Rotate"
                    bold: True
                    color: 0,0,0
                    size_hint_y: None
                    height: self.texture_size[1]

                MDTextField:
                    id: rotate_angle
                    mode: 'outlined'
                    input_filter: "float"
                    MDTextFieldHintText:
                        text: 'Angle'

            MDBoxLayout:
                orientation: 'vertical'
                size_hint: 1, None
                height: self.minimum_height
                padding: "15dp"
                spacing: 10
                md_bg_color: 1, 1, 1, 1
                radius: [25,]

                MDLabel:
                    text: "Flip"
                    bold: True
                    color: 0,0,0
                    size_hint_y: None
                    height: self.texture_size[1]

                MDTextField:
                    id: flip_direction
                    mode: 'outlined'
                    input_filter: "int"
                    MDTextFieldHintText:
                        text: 'Direction (0, 1, or -1)'

            MDBoxLayout:
                orientation: 'vertical'
                size_hint: 1, None
                height: self.minimum_height
                padding: "15dp"
                spacing: 10
                md_bg_color: 1, 1, 1, 1
                radius: [25,]

                MDLabel:
                    text: "Tonality"
                    bold: True
                    color: 0,0,0
                    size_hint_y: None
                    height: self.texture_size[1]

                MDTextField:
                    id: contrast_factor
                    mode: 'outlined'
                    input_filter: "float"
                    MDTextFieldHintText:
                        text: 'Contrast'
                MDTextField:
                    id: brightness_factor
                    mode: 'outlined'
                    input_filter: "float"
                    MDTextFieldHintText:
                        text: 'Brightness'
                MDTextField:
                    id: saturation_factor
                    mode: 'outlined'
                    input_filter: "float"
                    MDTextFieldHintText:
                        text: 'Saturation'

            MDBoxLayout:
                orientation: 'vertical'
                size_hint: 1, None
                height: self.minimum_height
                padding: "15dp"
                spacing: 15
                md_bg_color: 1, 1, 1, 1
                radius: [25,]

                MDLabel:
                    text: "Add Noise"
                    bold: True
                    color: 0,0,0
                    size_hint_y: None
                    height: self.texture_size[1]

                MDBoxLayout:
                    orientation: 'horizontal'
                    size_hint: 1.0, None
                    height: "48dp"
                    spacing: "20dp" 
                    MDTextField:
                        id: noise_mean
                        mode: 'outlined'
                        input_filter: "float"
                        MDTextFieldHintText:
                            text: 'Mean'
                    MDTextField:
                        id: noise_std
                        mode: 'outlined'
                        input_filter: "float"
                        MDTextFieldHintText:
                            text: 'Std Dev'

            MDBoxLayout:
                orientation: 'vertical'
                size_hint: 1, None
                height: self.minimum_height
                padding: "15dp"
                spacing: 15               
                md_bg_color: 1, 1, 1, 1
                radius: [25,]

                MDLabel:
                    text: "Shift"
                    bold: True
                    color: 0,0,0
                    size_hint_y: None
                    height: self.texture_size[1]

                MDBoxLayout:
                    orientation: 'horizontal'
                    size_hint: 1.0, None
                    height: "48dp"
                    spacing: "20dp"  
                    MDTextField:
                        id: translate_x
                        mode: 'outlined'
                        input_filter: "float"
                        MDTextFieldHintText:
                            text: 'X'
                    MDTextField:
                        id: translate_y
                        mode: 'outlined'
                        input_filter: "float"
                        MDTextFieldHintText:
                            text: 'Y'

            MDBoxLayout:
                orientation: 'vertical'
                size_hint: 1, None
                height: self.minimum_height
                padding: "15dp"
                spacing: 10
                md_bg_color: 1, 1, 1, 1
                radius: [25,]

                MDLabel:
                    text: "Shear"
                    bold: True
                    color: 0,0,0
                    size_hint_y: None
                    height: self.texture_size[1]

                MDTextField:
                    id: shear_factor
                    mode: 'outlined'
                    input_filter: "float"
                    MDTextFieldHintText:
                        text: 'Shear Factor'

            MDBoxLayout:
                orientation: 'vertical'
                size_hint: 1, None
                height: self.minimum_height
                padding: "15dp"
                spacing: 15             
                md_bg_color: 1, 1, 1, 1
                radius: [25,]

                MDLabel:
                    text: "Stretch"
                    bold: True
                    color: 0,0,0
                    size_hint_y: None
                    height: self.texture_size[1]

                MDBoxLayout:
                    orientation: 'horizontal'
                    size_hint: 1.0, None
                    height: "48dp"
                    spacing: "20dp"  
                    MDTextField:
                        id: stretch_x
                        mode: 'outlined'
                        input_filter: "float"
                        MDTextFieldHintText:
                            text: 'X Factor'
                    MDTextField:
                        id: stretch_y
                        mode: 'outlined'
                        input_filter: "float"
                        MDTextFieldHintText:
                            text: 'Y Factor'

            MDBoxLayout:
                orientation: 'vertical'
                size_hint: 1, None
                height: self.minimum_height
                padding: "15dp"
                spacing: 15              
                md_bg_color: 1, 1, 1, 1
                radius: [25,]

                MDLabel:
                    text: "Random Crop"
                    bold: True
                    color: 0,0,0
                    size_hint_y: None
                    height: self.texture_size[1]

                MDBoxLayout:
                    orientation: 'horizontal'
                    size_hint: 1.0, None
                    height: "48dp"
                    spacing: "20dp"  
                    MDTextField:
                        id: random_crop_width
                        mode: 'outlined'
                        input_filter: "int"
                        MDTextFieldHintText:
                            text: 'Width'
                    MDTextField:
                        id: random_crop_height
                        mode: 'outlined'
                        input_filter: "int"
                        MDTextFieldHintText:
                            text: 'Height'

            MDBoxLayout:
                orientation: 'vertical'
                size_hint: 1, None
                height: self.minimum_height
                padding: "15dp"
                spacing: "10dp"
                md_bg_color: 1, 1, 1, 1
                radius: [25,]

                MDLabel:
                    text: "Add Text"
                    bold: True
                    color: 0,0,0
                    size_hint_y: None
                    height: self.texture_size[1]

                MDTextField:
                    id: text_overlay
                    mode: 'outlined'
                    MDTextFieldHintText:
                        text: 'Text'

                Widget:
                    size_hint_y: None
                    height: "5dp" 

                MDBoxLayout:
                    orientation: 'horizontal'
                    size_hint: 1.0, None
                    height: "48dp"
                    spacing: "20dp"

                    MDTextField:
                        id: text_position_x
                        mode: 'outlined'
                        input_filter: "int"
                        MDTextFieldHintText:
                            text: 'X Position'

                    MDTextField:
                        id: text_position_y
                        mode: 'outlined'
                        input_filter: "int"
                        MDTextFieldHintText:
                            text: 'Y Position'

    MDBoxLayout:
        adaptive_size: True
        spacing: 20
        padding: [20, 20, 20, 20]
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        orientation: 'horizontal'
        
        MDButton:
            id: clear_button
            style: 'elevated'
            on_press: root.clear_changes()
            MDButtonIcon:
                icon: 'minus'
            MDButtonText:
                text: 'Clear'
        
        MDButton:
            id: apply_button
            style: 'elevated'
            on_press: root.apply_changes()
            MDButtonIcon:
                icon: 'check'
            MDButtonText:
                text: 'Apply'
        
        MDButton:
            id: save_button
            style: 'elevated'
            on_press: root.save_image()
            MDButtonIcon:
                icon: 'content-save'
            MDButtonText:
                text: 'Save'